---
title: 1.计算机网络概述
date: 2016-07-10
tags:
    - 计算机网络
---

本文来简单介绍一下计算机网络的一些基本概念
<!-- more -->

## 1、局域网
局域网的网线不超过100米，百兆交换机意味着每个端口都是百兆。接入层的端口一定要多，汇聚层端口的带宽一定要大。(接入层的多个交换机以行星的模式接入汇聚层交换机)

- 局域网：覆盖范围小，自己花钱购买设备，带宽固定，自己单位维护（网线最长100米，带宽 10M 100M 1000M）
- 广域网：（ADSL拨号上网就是广域网，网线超过100米）距离比较远，超过100米，花钱买服务（租带宽），其他人服务
- Internet：由运营商组成，自己的机房，对网民提供访问Internet的连接。跨运营商访问速度比较慢。（因为运营商之间是由一根网线连接的）解决方案是在网通和电信分别配置服务器，下载的时候选择运营商进行下载

## 2、MAC、IP、网关
网关就是，要想和其他网段通信，需要将数据发送给谁，一般路由器的端口地址就是网关地址，14.0.0.1,默认为IP的第一个地址。

计算机网卡有MAC地址，计算机有IP地址
## 3、数据包和帧
- 数据+源、目的IP地址 = 数据包（最大1500字节）
- 数据+源、目的IP+源、目的MAC地址 = 帧
- 跨路由器交互时需要重写源、目的MAC地址
- MAC地址决定了下一跳给谁，IP地址决定了数据包最终给谁
## 4、访问网站的数据传输
服务器接收到请求，返回数据，将网页信息切割成多个数据包（因为每个数据包最大1500字节），将数据包依次加入缓存（服务器端），依次发送，（对于已经发送的数据，依然在缓存中存在，因为可能发送失败，需要重发），客户端收到后，将数据存在缓存中，给服务器端发送确认信息，要求服务器发送下一个数据包。客户端浏览器从缓存中读取数据包。

## 5、OSI参考模型
### 5-1、分层结构

分层好处：每一层相互独立，相互之间不会影响（举例ip4,ipv6只是改变了网络层，其他层均没变化）层与层之间的关系：下面的层为上层提供服务，最上的应用层为人服务。

- 应用层：所有能够产生网络流量的程序，可以和用户交互的程序
- 表示层：传输之前，对数据进行加密或者压缩处理（QQ视频对图片进行压缩、加密）（主要面向开发人员）（编码）
- 会话层：访问网络，打开不同窗口，显示相应的内容，就是会话层实现的，同时流媒体的快进和快退也是会话层实现的（windows netstat –n查看会话列表），会话的作用是可以查看木马（远程控制木马、QQ盗号木马，其不同于病毒，病毒是用于篡改你的文件的），netstat –n就可以看出木马
- 传输层：实现可靠传输（TCP）、流量控制（接收方处理不过来，通知服务方，减缓发送速率）、不可靠传输（DNS解析、QQ聊天，一个数据包就能解决问题的时候用不可靠传输）
- 网络层：负责选择最佳路径，规划IP地址
- 数据链路层：定义帧的开始和结束 （定义开始和结束），透明传输（帧的开头和结尾由特殊的01字符进行标识，如果数据中，有的数据和结束位相同，发送数据的时候，要在数据（与帧结尾的标识相同的字段）前面添加标识符，交换机接收到数据时，对数据进行解析，删除标识符），差错校验
- 物理层：定义网络设备的接口标准（网卡8根线），电器标准（数据的0,1由电压表示），如何在物理链路上传输更快的速度
### 5-2、OSI参考模型网络排错

每一层都要为上一层服务，所以网络出现问题时，要自下往上进行排错。网线有8根线，两根负责发送，两根负责接收

- 物理故障查看网络连接状态 发送接收的数据包
- 数据链路层故障 MAC地址冲突（连接同一交换机的时候）（可以自己注册MAC地址）ADSL拨号欠费，数据链路层故障。网速无法协商一致（网卡网速和交换机端口网速协商）。计算机连接到错误的VLAN
- 网络层（规划地址，选择链路）故障。配置错误的IP地址 子网掩码。没有配置网关，或者配置了错误的网关，无法访问外网，也就无法实现选路。路由器没有配置到达目标网络的路由。
- 应用层故障（网络层以上统称为应用层故障）。
### 5-3、OSI参考模型网络安全

- 物理层安全：不要让别人随便接入自己的交换机，将交换机上多余的网线拔掉或者用命令关闭某个交换机端口
- 数据链路层安全：ADSL账号密码。划分VLAN。交换机端口绑定MAC地址。
- 网络层安全：路由器基于IP地址实现流量控制（使用ACL控制数据包流量）
- 应用层安全（网络层以上）：开发的应用程序没有漏洞
## 6、计算机性能指标
- 速率：一对连接双方在物理层传输速度
- 带宽：数字信道传输的最大速率
- 吞吐量：单位时间通过网络的数据量（速率5M，速率10M，带宽100M，吞吐量15M）
- 时延：（包括发送、传播、处理、排队时延）
  - 发送时延：数据包从网卡发出的时延
  - 传播时延：链路中传输的时延
  -   处理时延：路由器寻址时延
  - 排队时延：路由器交换机数据包排队时延
  - 时延带宽积 = 时延X带宽（链路上bit数量）

- 往返时间RTT（ping）
- 利用率：D = D0/(1-U)其中D0指空闲时的时延，D是指网络当前时延，U就是信道利用率。
U = 1-D0/D
